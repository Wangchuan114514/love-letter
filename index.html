<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Áªô‰Ω†ÁöÑ‰ø°</title>

<style>
html,body{
    margin:0;
    padding:0;
    background:#0c0f1a;
    font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue","Microsoft YaHei",sans-serif;
    color:white;
    height:100%;
    overflow:hidden;
}

/* ËÉåÊôØ */
body::before{
    content:"";
    position:fixed;
    width:100%;
    height:100%;
    background:radial-gradient(circle at 50% 80%, #1c2236 0%, #0c0f1a 70%);
    z-index:-1;
}

/* ‰ø°Â∞Å */
.envelope{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:240px;
    height:160px;
    background:#ff5e78;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:18px;
    letter-spacing:2px;
    box-shadow:0 10px 30px rgba(0,0,0,0.5);
    cursor:pointer;
}

/* ‰ø°‰ª∂ */
.letter{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    padding:60px 28px 40px 28px;
    box-sizing:border-box;
    display:none;
    overflow-y:auto;
    line-height:1.9;
    font-size:16px;
    background:linear-gradient(to bottom,#0c0f1a 0%,#11162a 100%);
}

.title{
    text-align:center;
    font-size:20px;
    margin-bottom:30px;
}

.content{
    white-space:pre-wrap;
}

/* ÁªìÂ±Ä */
.ending{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:#000;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    padding:40px;
    box-sizing:border-box;
    opacity:0;
    transition:3s;
}

.ending-text{
    font-size:20px;
    line-height:2;
}

/* Áà±ÂøÉ */
.heart{
    position:fixed;
    bottom:-20px;
    color:#ff5e78;
    font-size:16px;
    animation:floatUp 6s linear forwards;
}

@keyframes floatUp{
    from{transform:translateY(0);opacity:0;}
    to{transform:translateY(-110vh);opacity:1;}
}
</style>
</head>

<body>

<audio id="bgm" loop preload="auto">
    <source src="‰Ω†ÁöÑÈü≥‰πêÈìæÊé•.mp3" type="audio/mpeg">
</audio>

<div class="envelope" onclick="openLetter()">
    üíå ÁÇπÂáªÊâìÂºÄ
</div>

<div class="letter" id="letter">
    <div class="title">ÁªôÊúÄÁà±ÁöÑ‰Ω†</div>
    <div class="content" id="text"></div>
</div>

<div class="ending" id="ending">
    <div class="ending-text" id="endingText"></div>
</div>

<script>

let content = `‰∫≤Áà±ÁöÑÔºö

Á™óÂ§ñËµ∑È£é‰∫Ü„ÄÇÊàëÂ∑•‰ΩúÁöÑËøôÊù°Ë°óÊ†ëÂæàÂ§öÔºåÂè∂Â≠êËêΩ‰∫Ü‰∏ÄÂú∞„ÄÇ

ÂÖ∂ÂÆûÊàë‰ª¨ÈöîÂæó‰∏çÁÆóÂ§™ËøúÔºåÁúãÁöÑ‰πüÊòØÂêå‰∏Ä‰∏™Êúà‰∫Æ„ÄÇ

‰ª•ÂâçËßâÂæóÂàÜÂà´Ê≤°‰ªÄ‰πàÔºåÁé∞Âú®ÊâçÁü•ÈÅìÔºåÊòØÊÉ≥Áªô‰Ω†‰∏Ä‰∏™Êã•Êä±Âç¥Âè™ËÉΩÈöîÁùÄÂ±èÂπï„ÄÇ

ÂèØ‰πüÊòØËøôÊ†∑ÁöÑË∑ùÁ¶ªÔºåËÆ©Êàë‰∏ÄÈÅçÈÅçÁ°ÆËÆ§‚Äî‚Äî

ÊàëÊÉ≥Âíå‰Ω†Âú®‰∏ÄËµ∑„ÄÇ

ÊÉ≥Âíå‰Ω†‰∏ÄËµ∑ÈÄõË∂ÖÂ∏Ç„ÄÇ
ÊÉ≥Âíå‰Ω†ÂàÜ‰∏ÄÊù°ÊØØÂ≠êÁúãÁîµÂΩ±„ÄÇ
ÊÉ≥ÂêµÊû∂ÔºåÁÑ∂ÂêéÂíåÂ•Ω„ÄÇ
ÊÉ≥ÈÜíÊù•Á¨¨‰∏ÄÁúºÂ∞±ÁúãÂà∞‰Ω†„ÄÇ

ËÄåÊàëÊúÄÊÉ≥ËÆ≤ÁöÑÊïÖ‰∫ãÔºåÊòØÊàë‰ª¨Áªà‰∫é‰∏çÁî®ÂÜçÂÜô‰ø°ÁöÑÈÇ£‰∏ÄÂ§©„ÄÇ

Âà∞ÈÇ£Êó∂ÔºåËøô‰∫õËØùÔºåÊàëÂΩìÈù¢ËØ¥Áªô‰Ω†Âê¨„ÄÇ ‚ù§Ô∏è`;

let index = 0;

function openLetter(){
    document.querySelector(".envelope").style.display="none";
    document.getElementById("letter").style.display="block";

    // ÂÆâÂÖ®Êí≠ÊîæÈü≥‰πê
    const audio = document.getElementById("bgm");
    try{
        audio.play().catch(()=>{});
    }catch(e){}

    typeWriter();
}

function typeWriter(){
    if(index < content.length){
        document.getElementById("text").innerHTML += content.charAt(index);
        index++;
        document.getElementById("letter").scrollTop = document.getElementById("letter").scrollHeight;
        setTimeout(typeWriter,28);
    }else{
        setTimeout(showEnding,2000);
    }
}

let endingContent = `Â¶ÇÊûúÊúâ‰∏ÄÂ§©Ôºå

Êàë‰ª¨ÈÜíÊù•Êó∂‰∏çÂÜçÈöîÁùÄÁîµËØù„ÄÇ

Èò≥ÂÖâËêΩÂú®Âêå‰∏ÄÂº†È§êÊ°å‰∏ä„ÄÇ

ÈÇ£‰∏ÄÂ§©Ôºå

Êàë‰ª¨Áªà‰∫é‰∏çÁî®ÂÜçÂÜô‰ø°‰∫Ü„ÄÇ

Âõ†‰∏∫‰Ω†Â∞±Âú®ÊàëË∫´Ëæπ„ÄÇ

ËÄåÊ≠§ÂàªÊâÄÊúâÁöÑÁ≠âÂæÖ‚Äî‚Äî

ÈÉΩÂÄºÂæó„ÄÇ ‚ù§Ô∏è`;

let eIndex = 0;

function showEnding(){
    document.getElementById("ending").style.opacity="1";
    typeEnding();
}

function typeEnding(){
    if(eIndex < endingContent.length){
        document.getElementById("endingText").innerHTML += endingContent.charAt(eIndex);
        eIndex++;
        setTimeout(typeEnding,60);
    }
}

setInterval(()=>{
    let heart=document.createElement("div");
    heart.className="heart";
    heart.innerHTML="‚ù§";
    heart.style.left=Math.random()*100+"vw";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
},1800);

</script>

</body>
</html>
